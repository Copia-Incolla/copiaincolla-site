<!DOCTYPE html>
<html lang="it-IT">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="ABeltramo">
    <title>Copia&amp;incolla</title>
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://copiaincollastore.com/" />
    <meta property="og:title" content="" />
    <link rel="shortcut icon" href="favicon.png" />
    <meta name="description"  content="Vendita e Assistenza Computer anche a domicilio - Riparazione iPhone Apple Mac Bose Sound System" />
    <meta name="keywords"  content="riparazione pc,riparazione iphone,riparazione computer,assistenza pc,assistenza computer,copia incolla,copia incolla store,copia e incolla,copia &amp; incolla,giovanni calderoni,verbania intra,riparazione,riparazione ipad,riparazione iphone,riparazione pc,iphone, ipad,assistenza pc,corsi per pc,corsi per computer,corsi per imparare,corsi di computer,corsi per windows,bose,bose sound,bose accessori,bose acustica,rivenditore bose,rivendita bose,articoli bose,assistenza a domicilio,vendita pc,vendita mac,vendita bose,usato pc,usato mac,computer usati,mac usati,iphone usati,accessori per mac,accessori per iphone,accessori per ipad" />
    
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Calendar -->
    <link href="css/responsive-calendar.css" rel='stylesheet' type='text/css'>
    <!-- Animations -->
    <link href='css/animate.min.css' rel='stylesheet' type='text/css'>
    <style>
        #Contatti h4{
            line-height: 30px;
        }
      
      .pad10{padding:10px;}
      .top17 { margin-top:17px; }
      /*BugFix nei form */
      .glyphicon{
          top:0;	
      }

      /* Copia&Incolla theme */
      .btn-default{
          border-color: rgb(232, 41, 105);
          color:rgb(232, 41, 105);
      }

      .btn-default:hover{
          border-color: rgb(232, 41, 105);
          background:rgb(232, 41, 105);
          color:white;
      }
      .btn:focus {
          border-color: rgb(232, 41, 105);
          background:rgb(232, 41, 105);
          color:white;
          outline-color:rgba(232,41,105,0.66)
      }

      .form-control:focus {
          border-color: rgb(232, 41, 105);
          box-shadow:none;
      }
    </style>
</head>
  <body class="container" style="margin:0; margin-top:20px; width:100%;height:100%;">
      <!-- Responsive calendar - START -->
    	<div class="responsive-calendar">
        <div class="controls">
            <a class="pull-left" data-go="prev">
              <div class="btn btn-default"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span></div>
            </a>
            <h1><span data-head-month></span> <span data-head-year></span></h1>
            <a class="pull-right" data-go="next">
              <div class="btn btn-default"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></div>
            </a>
        </div><hr/>
        <div class="day-headers">
          <div class="day header">Lun</div>
          <div class="day header">Mar</div>
          <div class="day header">Mer</div>
          <div class="day header">Gio</div>
          <div class="day header">Ven</div>
          <div class="day header">Sab</div>
          <div class="day header">Dom</div>
        </div>
        <div class="days" data-group="days">
          
        </div>
      </div>
      <!-- Responsive calendar - END -->
    <div id="modalEvent" class="modal fade">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
          <h4 class="modal-title"></h4>
        </div>
        <div class="modal-body">
          <div class="container-fluid pad10">
            <ul class="list-group">
              <li id="evento" style="display:none" class="list-group-item">asd</li>
            </ul>  
         </div>
        </div>
      </div>
    </div>
  </div>
    <!-- Librerie -->
    <script type='text/javascript' src="js/jquery-2.1.4.min.js"></script>
    <script type='text/javascript' src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/responsive-calendar.min.js"></script>
    <script type="text/javascript">
      
      function getMonthEvents(month,year){
        $.getJSON("https://john.copiaincollafranchising.it:1982/api/calendar/count/"+ month +"/" + year +"/?callback=?",function(res){
          if(!res.Error){
            var events = {};
            for(obj of res.Rows){
              events[year+"-"+month+"-"+obj.giorno] = {"number":obj.eventi};
            }
            // Wait for end animation
            setTimeout(function(){
              $('.responsive-calendar').responsiveCalendar('edit',events);
              console.log(events);
            }, 500);
          }
        });
      }
      
      function getDayEvents(day,month,year){
        $.getJSON("https://john.copiaincollafranchising.it:1982/api/calendar/get/"+ day +"/" + month +"/" + year +"/?callback=?",function(res){
          if(!res.Error){
            console.log(res.Rows);
            $('#modalEvent .modal-title').text(day+"/"+month+"/"+year);
            $('#modalEvent').modal('show');
            $(".deleteMe").remove(); //Clear all
            for(obj of res.Rows){
              var ev = $("#modalEvent #evento").clone();
                ev.text(obj.Titolo)
                .attr("id"," ")
                .addClass("deleteMe")
                .css("backgroundColor",obj.Colore)
                .css("color",obj.TextColor)
                .show();
              $("#modalEvent .list-group").prepend(ev);
            }
          }
        });
      }
      
      $(document).ready(function () {
        var today = new Date();
        $(".responsive-calendar").responsiveCalendar({
          time: today.getFullYear()+"-"+(today.getMonth()+1),
          onDayClick: function(events) {getDayEvents($(this).data("day"),$(this).data("month"),$(this).data("year"));},
          onMonthChange: function(){getMonthEvents(this.currentMonth+1,this.currentYear);}
        });
        getMonthEvents(today.getMonth()+1,today.getFullYear());
      });
    </script>
</body>
</html>